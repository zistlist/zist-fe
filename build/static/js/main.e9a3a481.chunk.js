(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n(19),c=n.n(r),i=n(80),o=n(31),l=n(22),u=n(56),s=(n(87),n(57)),m=n(0),d=n.n(m),p=n(11),f=n.n(p),h=n(18),y=n(54),g=n(179),v=n(177),b=n(83),E=n(162),w=n(163),k=function(e){return d.a.createElement(b.a,{elevation:0,style:{padding:0,margin:0,backgroundColor:"#fafafa"}},d.a.createElement(E.a,{color:"primary",position:"static",style:{height:64}},d.a.createElement(w.a,{style:{height:64}},d.a.createElement(y.a,{color:"inherit"},"ZIST"))),e.children)},O=n(41),I=n(164),j=n(176),C=n(167),x=n(168),S=n(180),_=n(169),T=n(170),z={name:"",comment:"",category:"",quantity:1,url:"",id:""},N=function(){var e=Object(o.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-myproject-dbb0e.cloudfunctions.net/scraper",{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=e.values,n=t.imageUrl,a=t.name,r=t.description,c=t.price;return d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{src:n,alt:"amazon-item"}),d.a.createElement(y.a,{variant:"h5"},a),d.a.createElement(y.a,{variant:"body2"},r),d.a.createElement(y.a,null,"$ ",c))},L=Object(h.a)(I.a).withConfig({displayName:"AddItem___StyledCircularProgress",componentId:"sc-19i0uvj-0"})(["display:block;"]),R=Object(h.a)(j.a).withConfig({displayName:"AddItem___StyledSelect",componentId:"sc-19i0uvj-1"})(["width:8rem;"]),F=Object(m.memo)(function(e){var t=d.a.useState(z),n=Object(l.a)(t,2),r=n[0],i=n[1],u=d.a.useState(!1),s=Object(l.a)(u,2),m=s[0],p=s[1],f=d.a.useState(!1),h=Object(l.a)(f,2),y=h[0],v=h[1],E=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,N(r.url);case 3:t=e.sent,i(Object(a.a)({},r,t,{url:""})),v(!1),p(!0);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(e){return function(t){i(Object(a.a)({},r,Object(O.a)({},e,t.target.value)))}};return d.a.createElement(b.a,{style:e.isViewOnly?{margin:16,padding:16,display:"none"}:{margin:16,padding:16}},d.a.createElement(C.a,{container:!0,alignItems:"flex-end"},d.a.createElement(C.a,{xs:10,md:11,item:!0,style:{paddingRight:16}},m?d.a.createElement(V,{values:r}):y?d.a.createElement(L,null):d.a.createElement(g.a,{placeholder:"URL",value:r.url,onChange:w("url"),onKeyDown:function(e){return function(e,t,n){return 13===e.which||13===e.keyCode?(t(e),!0):(27===e.which||27===e.keyCode)&&(n(e),!0)}(e,E,function(){return i(Object(a.a)({},r,{url:""}))})},fullWidth:!0}),d.a.createElement(x.a,null,d.a.createElement(S.a,{htmlFor:"category"},"Category"),d.a.createElement(R,{value:r.category,onChange:function(e){i(Object(a.a)({},r,{category:e.target.value}))},inputProps:{name:"category",id:"category"}},d.a.createElement(_.a,{value:""},d.a.createElement("em",null,"None")),d.a.createElement(_.a,{value:"lifestyle"},"Lifestyle"),d.a.createElement(_.a,{value:"electronics"},"Electronics"),d.a.createElement(_.a,{value:"travel"},"Travel"),d.a.createElement(_.a,{value:"fitness"},"Fitness"))),d.a.createElement(g.a,{placeholder:"Comment",value:r.comment,onChange:w("comment"),fullWidth:!0})),d.a.createElement(C.a,{xs:2,md:1,item:!0},d.a.createElement(T.a,{fullWidth:!0,color:"secondary",variant:"outlined",onClick:function(){e.addItem(r),i(z),p(!1)},disabled:!m},"Add"))))}),A=n(166),B=n(78),D=n.n(B),P=n(171),K=n(172),U=n(132),q=n(178),J=n(174),W=n(175),G=n(173),H=n(79),M=n.n(H),Q=Object(h.a)(P.a).withConfig({displayName:"ListItem___StyledCard",componentId:"sc-2w706o-0"})(["min-width:200px;width:200px;height:150px;margin:0 20px;"]),Z=Object(h.a)(K.a).withConfig({displayName:"ListItem___StyledCardMedia",componentId:"sc-2w706o-1"})(["width:100%;height:100%;background-size:contain;"]),$=Object(h.a)(y.a).withConfig({displayName:"ListItem___StyledTypography",componentId:"sc-2w706o-2"})(["color:black;"]),X=Object(h.a)(y.a).withConfig({displayName:"ListItem___StyledTypography2",componentId:"sc-2w706o-3"})(["color:black;"]),Y=Object(h.a)(y.a).withConfig({displayName:"ListItem___StyledTypography3",componentId:"sc-2w706o-4"})(["color:black;"]),ee=function(e){return d.a.createElement(U.a,{divider:e.divider},d.a.createElement(q.a,{style:e.isViewOnly?{display:"none"}:{display:"initial"},onClick:e.onCheckBoxToggle,checked:e.checked,disableRipple:!0}),d.a.createElement(Q,null,d.a.createElement(Z,{image:e.imageUrl,title:"amazon-item"})),d.a.createElement(J.a,{primary:d.a.createElement(y.a,null,e.name),secondary:d.a.createElement(d.a.Fragment,null,d.a.createElement(y.a,{variant:"caption"},e.description),d.a.createElement($,null,"Category: ",D()(e.category)),d.a.createElement(X,null,"Quantity: ",e.quantity),d.a.createElement(Y,null,"Price: ",e.price),d.a.createElement(y.a,{variant:"caption"},"Comment: ",e.comment))}),d.a.createElement(W.a,{style:e.isViewOnly?{display:"none"}:{display:"initial"}},d.a.createElement(G.a,{"aria-label":"Delete Item",onClick:e.onButtonClick},d.a.createElement(M.a,null))))},te=Object(m.memo)(function(e){return d.a.createElement(d.a.Fragment,null,e.items.length>0&&d.a.createElement(b.a,{style:{margin:16}},d.a.createElement(A.a,{style:{overflow:"scroll"}},e.items.map(function(t,n){return d.a.createElement(ee,Object.assign({isViewOnly:e.isViewOnly},t,{key:"Item.".concat(n),divider:n!==e.items.length-1,onButtonClick:function(){return e.onItemRemove(n,e.items)},onCheckBoxToggle:function(){return e.onItemCheck(n,t.amazonId)}}))}))))});function ne(){var e=Object(u.a)(["\n  margin: 16px;\n\n  & > * {\n    font-size: 3rem;\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(u.a)(["\n  margin: 16px;\n  cursor: pointer;\n"]);return ae=function(){return e},e}var re=Object(h.a)(y.a)(ae()),ce=Object(h.a)(g.a)(ne()),ie=function(e){var t=e.listTitle,n=e.setListTitle,a=e.isViewOnly,r=d.a.useState("viewing"),c=Object(l.a)(r,2),i=c[0],o=c[1],u=function(e){n(e.target.value),o("viewing")};return!1===a?"viewing"===i?d.a.createElement(re,{variant:"h3",onClick:function(){return o("editing")}},t):d.a.createElement(ce,{placeholder:"Name",defaultValue:t,onKeyDown:function(e){return function(e,t,n){return 13===e.which||13===e.keyCode?(t(e),!0):(27===e.which||27===e.keyCode)&&(n(e),!0)}(e,u,function(){return o("viewing")})}}):d.a.createElement(re,{variant:"h3"},t)};s.initializeApp({apiKey:"AIzaSyAlKD1sebSl5mvT0HgFu2Nsy1GNPRDjCho",authDomain:"zist-90c81.firebaseapp.com",databaseURL:"https://zist-90c81.firebaseio.com",projectId:"zist-90c81",storageBucket:"zist-90c81.appspot.com",messagingSenderId:"65347563740",appId:"1:65347563740:web:cfeb4d4deea7e7c4"});var oe=s.firestore().collection("lists");oe.get().then(function(e){return e.forEach(function(e){})});var le=document.getElementById("root");f.a.render(d.a.createElement(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(m.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return{items:r,setItems:c,addItem:function(e){c(r.concat(Object(a.a)({},e,{checked:!1})))},checkItem:function(e){c(r.map(function(t,n){return e===n&&(t.checked=!t.checked),t}))},removeItem:function(e){c(r.filter(function(t,n){return e!==n}))}}}(),t=e.items,n=e.addItem,r=e.checkItem,u=e.removeItem,s=e.setItems,p=d.a.useState("title"),f=Object(l.a)(p,2),h=f[0],y=f[1],g=d.a.useRef(""),b=d.a.useState(!0),E=Object(l.a)(b,2),w=E[0],O=E[1];return d.a.useEffect(function(){var e=window.location.pathname.split("/");"lists"===e[1]&&oe.doc(e[2]).get().then(function(t){if(t.exists){g.current=e[2];var n=t.data();n&&(s(n.listItems),y(n.title))}})},[s]),d.a.createElement(v.b,{injectFirst:!0},d.a.createElement("button",{onClick:function(){O(!w),console.log(w)}},"mockViewer"),d.a.createElement(k,null,d.a.createElement(ie,{isViewOnly:w,listTitle:h,setListTitle:function(e){g.current&&oe.doc(g.current).update({title:e}),!1===w&&y(e)}}),d.a.createElement(F,{isViewOnly:w,addItem:function(){var e=Object(o.a)(c.a.mark(function e(a){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.find(function(e){return e.id===a.id})){e.next=13;break}if(""===a.category||null===a.quantity){e.next=13;break}if(t.length){e.next=10;break}return e.next=5,oe.add({title:h,listItems:[a]});case 5:r=e.sent,window.history.pushState(null,"","/lists/".concat(r.id)),g.current=r.id,e.next=12;break;case 10:return e.next=12,oe.doc(g.current).update({listItems:[].concat(Object(i.a)(t),[a])});case 12:n(a);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),d.a.createElement(te,{isViewOnly:w,items:t,onItemCheck:function(){var e=Object(o.a)(c.a.mark(function e(t,n){var i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.doc(g.current).get();case 2:if(!(i=e.sent.data())){e.next=7;break}return o=i.listItems,e.next=7,oe.doc(g.current).update({listItems:o.map(function(e){return e.amazonId===n?Object(a.a)({},e,{checked:!e.checked}):e})});case 7:r(t);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),onItemRemove:function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.doc(g.current).update({listItems:n.filter(function(e,n){return t!==n})});case 2:u(t);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()})))},null),le)},85:function(e,t,n){e.exports=n(131)},87:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.e9a3a481.chunk.js.map