(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),o=n(24),l=n(19),u=n.n(l),s=n(80),m=n(31),d=n(22),p=(n(91),n(177)),f=n(83),h=n(162),y=n(163),g=n(54),b=function(e){return r.a.createElement(f.a,{elevation:0,style:{padding:0,margin:0,backgroundColor:"#fafafa"}},r.a.createElement(h.a,{color:"primary",position:"static",style:{height:64}},r.a.createElement(y.a,{style:{height:64}},r.a.createElement(g.a,{color:"inherit"},"ZIST"))),e.children)},v=n(41),E=n(18),w=n(164),k=n(176),O=n(167),I=n(179),j=n(168),C=n(182),x=n(169),S=n(170),_={name:"",comment:"",category:"",quantity:1,url:"",id:""},T=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-myproject-dbb0e.cloudfunctions.net/scraper",{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=e.values,n=t.imageUrl,a=t.name,c=t.description,i=t.price;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n,alt:"amazon-item"}),r.a.createElement(g.a,{variant:"h5"},a),r.a.createElement(g.a,{variant:"body2"},c),r.a.createElement(g.a,null,"$ ",i))},N=Object(E.a)(w.a).withConfig({displayName:"AddItem___StyledCircularProgress",componentId:"sc-19i0uvj-0"})(["display:block;"]),V=Object(E.a)(k.a).withConfig({displayName:"AddItem___StyledSelect",componentId:"sc-19i0uvj-1"})(["width:8rem;"]),L=Object(a.memo)(function(e){var t=r.a.useState(_),n=Object(d.a)(t,2),a=n[0],c=n[1],i=r.a.useState(!1),l=Object(d.a)(i,2),s=l[0],p=l[1],h=r.a.useState(!1),y=Object(d.a)(h,2),g=y[0],b=y[1],E=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,T(a.url);case 3:t=e.sent,c(Object(o.a)({},a,t,{url:""})),b(!1),p(!0);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(e){return function(t){c(Object(o.a)({},a,Object(v.a)({},e,t.target.value)))}};return r.a.createElement(f.a,{style:e.isViewOnly?{margin:16,padding:16,display:"none"}:{margin:16,padding:16}},r.a.createElement(O.a,{container:!0,alignItems:"flex-end"},r.a.createElement(O.a,{xs:10,md:11,item:!0,style:{paddingRight:16}},s?r.a.createElement(z,{values:a}):g?r.a.createElement(N,null):r.a.createElement(I.a,{placeholder:"URL",value:a.url,onChange:w("url"),onKeyDown:function(e){return function(e,t,n){return 13===e.which||13===e.keyCode?(t(e),!0):(27===e.which||27===e.keyCode)&&(n(e),!0)}(e,E,function(){return c(Object(o.a)({},a,{url:""}))})},fullWidth:!0}),r.a.createElement(j.a,null,r.a.createElement(C.a,{htmlFor:"category"},"Category"),r.a.createElement(V,{value:a.category,onChange:function(e){c(Object(o.a)({},a,{category:e.target.value}))},inputProps:{name:"category",id:"category"}},r.a.createElement(x.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(x.a,{value:"lifestyle"},"Lifestyle"),r.a.createElement(x.a,{value:"electronics"},"Electronics"),r.a.createElement(x.a,{value:"travel"},"Travel"),r.a.createElement(x.a,{value:"fitness"},"Fitness"))),r.a.createElement(I.a,{placeholder:"Comment",value:a.comment,onChange:w("comment"),fullWidth:!0})),r.a.createElement(O.a,{xs:2,md:1,item:!0},r.a.createElement(S.a,{fullWidth:!0,color:"secondary",variant:"outlined",onClick:function(){e.addItem(a),c(_),p(!1)},disabled:!s},"Add"))))}),R=n(166),F=n(77),A=n.n(F),B=n(171),D=n(172),P=n(132),K=n(178),U=n(174),q=n(175),J=n(173),W=n(78),G=n.n(W),H=Object(E.a)(B.a).withConfig({displayName:"ListItem___StyledCard",componentId:"sc-2w706o-0"})(["min-width:200px;width:200px;height:150px;margin:0 20px;"]),M=Object(E.a)(D.a).withConfig({displayName:"ListItem___StyledCardMedia",componentId:"sc-2w706o-1"})(["width:100%;height:100%;background-size:contain;"]),Q=Object(E.a)(g.a).withConfig({displayName:"ListItem___StyledTypography",componentId:"sc-2w706o-2"})(["color:black;"]),Z=Object(E.a)(g.a).withConfig({displayName:"ListItem___StyledTypography2",componentId:"sc-2w706o-3"})(["color:black;"]),$=Object(E.a)(g.a).withConfig({displayName:"ListItem___StyledTypography3",componentId:"sc-2w706o-4"})(["color:black;"]),X=function(e){return r.a.createElement(P.a,{divider:e.divider},r.a.createElement(K.a,{style:e.isViewOnly?{display:"none"}:{display:"initial"},onClick:e.onCheckBoxToggle,checked:e.checked,disableRipple:!0}),r.a.createElement(H,null,r.a.createElement(M,{image:e.imageUrl,title:"amazon-item"})),r.a.createElement(U.a,{primary:r.a.createElement(g.a,null,e.name),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"caption"},e.description),r.a.createElement(Q,null,"Category: ",A()(e.category)),r.a.createElement(Z,null,"Quantity: ",e.quantity),r.a.createElement($,null,"Price: ",e.price),r.a.createElement(g.a,{variant:"caption"},"Comment: ",e.comment))}),r.a.createElement(q.a,{style:e.isViewOnly?{display:"none"}:{display:"initial"}},r.a.createElement(J.a,{"aria-label":"Delete Item",onClick:e.onButtonClick},r.a.createElement(G.a,null))))},Y=Object(a.memo)(function(e){return r.a.createElement(r.a.Fragment,null,e.items.length>0&&r.a.createElement(f.a,{style:{margin:16}},r.a.createElement(R.a,{style:{overflow:"scroll"}},e.items.map(function(t,n){return r.a.createElement(X,Object.assign({isViewOnly:e.isViewOnly},t,{key:"Item.".concat(n),divider:n!==e.items.length-1,onButtonClick:function(){return e.onItemRemove(n,e.items)},onCheckBoxToggle:function(){return e.onItemCheck(n,t.amazonId)}}))}))))}),ee=n(58),te={apiKey:"AIzaSyAlKD1sebSl5mvT0HgFu2Nsy1GNPRDjCho",authDomain:"zist-90c81.firebaseapp.com",databaseURL:"https://zist-90c81.firebaseio.com",projectId:"zist-90c81",storageBucket:"zist-90c81.appspot.com",messagingSenderId:"65347563740",appId:"1:65347563740:web:cfeb4d4deea7e7c4"},ne=n(59);function ae(){var e=Object(ne.a)(["\n  margin: 16px;\n\n  & > * {\n    font-size: 3rem;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(ne.a)(["\n  margin: 16px;\n  cursor: pointer;\n"]);return re=function(){return e},e}var ce=Object(E.a)(g.a)(re()),ie=Object(E.a)(I.a)(ae()),oe=function(e){var t=e.listTitle,n=e.setListTitle,a=e.isViewOnly,c=r.a.useState("viewing"),i=Object(d.a)(c,2),o=i[0],l=i[1],u=function(e){n(e.target.value),l("viewing")};return!1===a?"viewing"===o?r.a.createElement(ce,{variant:"h3",onClick:function(){return l("editing")}},t):r.a.createElement(ie,{placeholder:"Name",defaultValue:t,onKeyDown:function(e){return function(e,t,n){return 13===e.which||13===e.keyCode?(t(e),!0):(27===e.which||27===e.keyCode)&&(n(e),!0)}(e,u,function(){return l("viewing")})}}):r.a.createElement(ce,{variant:"h3"},t)},le=(ee.initializeApp(te),ee.firestore().collection("lists"));le.get().then(function(e){return e.forEach(function(e){})});var ue=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(a.useState)(e),n=Object(d.a)(t,2),r=n[0],c=n[1];return{items:r,setItems:c,addItem:function(e){c(r.concat(Object(o.a)({},e,{checked:!1})))},checkItem:function(e){c(r.map(function(t,n){return e===n&&(t.checked=!t.checked),t}))},removeItem:function(e){c(r.filter(function(t,n){return e!==n}))}}}(),t=e.items,n=e.addItem,c=e.checkItem,i=e.removeItem,l=e.setItems,f=r.a.useState("title"),h=Object(d.a)(f,2),y=h[0],g=h[1],v=r.a.useRef(""),E=r.a.useState(!0),w=Object(d.a)(E,2),k=w[0],O=w[1];return r.a.useEffect(function(){var e=window.location.pathname.split("/");"lists"===e[1]&&le.doc(e[2]).get().then(function(t){if(t.exists){v.current=e[2];var n=t.data();n&&(l(n.listItems),g(n.title))}})},[l]),r.a.createElement(p.b,{injectFirst:!0},r.a.createElement("button",{onClick:function(){O(!k),console.log(k)}},"mockViewer"),r.a.createElement(b,null,r.a.createElement(oe,{isViewOnly:k,listTitle:y,setListTitle:function(e){v.current&&le.doc(v.current).update({title:e}),!1===k&&g(e)}}),r.a.createElement(L,{isViewOnly:k,addItem:function(){var e=Object(m.a)(u.a.mark(function e(a){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.find(function(e){return e.id===a.id})){e.next=13;break}if(""===a.category||null===a.quantity){e.next=13;break}if(t.length){e.next=10;break}return e.next=5,le.add({title:y,listItems:[a]});case 5:r=e.sent,window.history.pushState(null,"","/lists/".concat(r.id)),v.current=r.id,e.next=12;break;case 10:return e.next=12,le.doc(v.current).update({listItems:[].concat(Object(s.a)(t),[a])});case 12:n(a);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(Y,{isViewOnly:k,items:t,onItemCheck:function(){var e=Object(m.a)(u.a.mark(function e(t,n){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.doc(v.current).get();case 2:if(!(a=e.sent.data())){e.next=7;break}return r=a.listItems,e.next=7,le.doc(v.current).update({listItems:r.map(function(e){return e.amazonId===n?Object(o.a)({},e,{checked:!e.checked}):e})});case 7:c(t);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),onItemRemove:function(){var e=Object(m.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.doc(v.current).update({listItems:n.filter(function(e,n){return t!==n})});case 2:i(t);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()})))},se=document.getElementById("root");i.a.render(r.a.createElement(ue,null),se)},85:function(e,t,n){e.exports=n(131)},91:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.b86703a5.chunk.js.map